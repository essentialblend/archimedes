<UserControl x:Class="archimedes.Views.TransportBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
  <Border Background="{DynamicResource Brush.BG.Bar}" BorderBrush="{DynamicResource Brush.Border.Light}" BorderThickness="0,0,0,1">
    <Grid Margin="12,0">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>

      <Button Grid.Column="0" Style="{StaticResource CycleButton}" Margin="0,0,16,0">
        <Viewbox Width="14" Height="14" Stretch="Uniform">
          <Path Data="{StaticResource Icon.CycleCollapse}" Stroke="{DynamicResource Brush.Acc.Main}" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round">
            <Path.RenderTransform>
              <TranslateTransform X="-1.5" Y="-1.5"/>
            </Path.RenderTransform>
          </Path>
        </Viewbox>
      </Button>

      <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="8,0,0,0">

        <Button Style="{StaticResource TinyButton}" Content="EXT"/>
        <Button Style="{StaticResource TinyButton}" Content="TAP" Margin="6,0,0,0"/>

        <Border Style="{StaticResource TransportSep}"/>

        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
          <TextBlock Style="{StaticResource ZoneLabel}" Text="BPM" Margin="0,0,4,0"/>
          <Border Style="{StaticResource ValueBox}">
            <TextBlock Style="{StaticResource ValueMono}" Text="135"/>
          </Border>

          <TextBlock Style="{StaticResource ZoneLabel}" Text="CPS" Margin="10,0,4,0"/>
          <Border Style="{StaticResource ValueBox}">
            <TextBlock Style="{StaticResource ValueMono}" Text="0.56"/>
          </Border>
        </StackPanel>

        <Border Style="{StaticResource TransportSep}"/>

        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
          <TextBox Style="{StaticResource SigInput}" Text="4"/>
          <TextBlock Text="/" VerticalAlignment="Center" Foreground="{DynamicResource Brush.Text.Dim}" Margin="2,0"/>
          <TextBox Style="{StaticResource SigInput}" Text="4"/>
          <ToggleButton Style="{StaticResource MetroToggle}" Margin="10,0,0,0"/>
        </StackPanel>

        <Border Style="{StaticResource TransportSep}"/>

        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
          <ComboBox Style="{StaticResource ScaleCombo}" SelectedIndex="0">
            <ComboBoxItem Content="C"/>
            <ComboBoxItem Content="D"/>
          </ComboBox>

          <ComboBox Style="{StaticResource ScaleCombo}" MinWidth="80" Margin="6,0,0,0" SelectedIndex="0">
            <ComboBoxItem Content="Minor"/>
            <ComboBoxItem Content="Major"/>
          </ComboBox>
        </StackPanel>
      </StackPanel>

      <Border Style="{StaticResource TransportSep}"/>

      <Border Grid.Column="2" Style="{StaticResource DeckBorder}" Margin="0,0,16,0" VerticalAlignment="Center">
        <StackPanel Orientation="Horizontal">
          <Button Style="{StaticResource DeckButton}">
            <Viewbox Width="14" Height="14" Stretch="Uniform">
              <Canvas Width="24" Height="24">
                <Path Data="{StaticResource Icon.DeckResetDiamond}" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2" StrokeLineJoin="Round"/>
                <Ellipse Width="4" Height="4" Canvas.Left="10" Canvas.Top="10" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
              </Canvas>
            </Viewbox>
          </Button>

          <Border Style="{StaticResource DeckSep}"/>

          <Button Style="{StaticResource DeckButton}">
            <Viewbox Width="14" Height="14" Stretch="Uniform">
              <Canvas Width="24" Height="24">
                <Rectangle Width="12" Height="12" RadiusX="1" RadiusY="1" Canvas.Left="6" Canvas.Top="6" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2.5"/>
              </Canvas>
            </Viewbox>
          </Button>

          <Border Style="{StaticResource DeckSep}"/>

          <Button Style="{StaticResource DeckButton}">
            <Viewbox Width="14" Height="14" Stretch="Uniform">
              <Canvas Width="24" Height="24">
                <Path Data="{StaticResource Icon.DeckPlay}" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
              </Canvas>
            </Viewbox>
          </Button>

          <Border Style="{StaticResource DeckSep}"/>

          <Button Style="{StaticResource DeckButton}">
            <Viewbox Width="14" Height="14" Stretch="Uniform">
              <Canvas Width="24" Height="24">
                <Ellipse Width="14" Height="14" Canvas.Left="5" Canvas.Top="5" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2.5"/>
                <Ellipse Width="5" Height="5" Canvas.Left="9.5" Canvas.Top="9.5" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
              </Canvas>
            </Viewbox>
          </Button>

          <Border Style="{StaticResource DeckSep}"/>

          <Button Style="{StaticResource DeckButtonHush}">
            <Viewbox Width="14" Height="14">
              <Canvas Width="24" Height="24">
                <Grid>
                  <Path Data="{StaticResource Icon.DeckHushFill}" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" Opacity="0.8"/>
                  <Path Data="{StaticResource Icon.DeckHushSlash}" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                </Grid>
              </Canvas>
            </Viewbox>
          </Button>
        </StackPanel>
      </Border>

      <StackPanel Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
          <Viewbox Width="15" Height="15" Margin="0,0,6,0" Stretch="Uniform" VerticalAlignment="Center">
            <Canvas Width="24" Height="24">
              <Path Data="{StaticResource Icon.CyclePhaseHourglass}" Stroke="{DynamicResource Brush.Text.Dim}" StrokeThickness="2" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Fill="Transparent"/>
            </Canvas>
          </Viewbox>

          <Border Style="{StaticResource CycleWrapValBox}">
            <TextBlock Style="{StaticResource CycleWrapValText}" Text="0.0"/>
          </Border>
        </StackPanel>

        <Border Style="{StaticResource RightSep}"/>

        <Border Style="{StaticResource DSPBox}">
          <Grid ClipToBounds="True">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Border Grid.Column="0" Style="{StaticResource DSPFill}"/>
          </Grid>
        </Border>

        <Border Style="{StaticResource RightSep}"/>

        <Button Style="{StaticResource IconButton}" Click="OnBootTidal" ToolTip="Turn Tidal Cycles On" Margin="0,0,20,0">
          <Image Width="18" Height="18" Stretch="Uniform" Source="/Assets/Logo.png"/>
        </Button>

        <Button Style="{StaticResource IconButton}" Click="OnToggleTheme" ToolTip="Toggle Theme">
          <Viewbox Width="14" Height="14">
            <Path Data="{StaticResource Icon.ThemeMoon}" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
          </Viewbox>
        </Button>
      </StackPanel>
    </Grid>
  </Border>
</UserControl>
